{"changed":true,"filter":false,"title":"Untitled","tooltip":"/test_ideas/Untitled","value":"router.route('/removeAccount')\n\n    \n    .post(function(req, res) {\n        \n        /* todo: oauth with req.body.oauth */\n\ndb.collection(req.body.address).drop(function(err,res){console.log(res)})\n\nvar WebSocket = require('ws')\n\nvar websocket = new WebSocket('wss://s1.ripple.com')\n\n\nvar subscribeCommand = '{\"command\":\"unsubscribe\",\"id\":0,\"accounts\":[\"'+req.body.address+'\"]}'\n\nconsole.log(subscribeCommand)\n\nwebsocket.on('open', function(){\n    console.log('Connected to the Ripple payment network')\n    websocket.send(subscribeCommand)\n   \n   \n})    \n    websocket.on('message', function(data){\n        console.log('message', data)\n   \n    })\n\n\n                res.json(\"Removed all data for account: \" +req.body.address); \n\n\n    });","undoManager":{"mark":-1,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":33,"column":7},"action":"insert","lines":["router.route('/removeAccount')","","    ","    .post(function(req, res) {","        ","        /* todo: oauth with req.body.oauth */","","db.collection(req.body.address).drop(function(err,res){console.log(res)})","","var WebSocket = require('ws')","","var websocket = new WebSocket('wss://s1.ripple.com')","","","var subscribeCommand = '{\"command\":\"unsubscribe\",\"id\":0,\"accounts\":[\"'+req.body.address+'\"]}'","","console.log(subscribeCommand)","","websocket.on('open', function(){","    console.log('Connected to the Ripple payment network')","    websocket.send(subscribeCommand)","   ","   ","})    ","    websocket.on('message', function(data){","        console.log('message', data)","   ","    })","","","                res.json(\"Removed all data for account: \" +req.body.address); ","","","    });"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":33,"column":7},"end":{"row":33,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428737855369}